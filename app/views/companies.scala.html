@(companies: List[Company], companyForm: Form[(String, Option[Long])])

@import helper._

@main("Companies", "Companies", "Companies") {

	@if(companies.isEmpty) {
		<h3>No companies.</h3>
	} else {
		<table class="companies">
			<tr>
				<th>Company Name</th>
				<th class="inner_display_column">Primary Contact
				<th><th>
			</tr>
			@companies.map { company =>
				<tr>
					<td> @company.name</td>
					<td class="inner_display_column">@Contact.nameById(company.primaryContactId)</td>
					<td><a class="delete_link" href="@routes.Companies.deleteCompany(company.id)">delete</a></td>
				</tr>
			}
		</table>
	}

	@form(routes.Companies.newCompany, 'class -> "form") {

	<h2>Add a new company</h2>

	@inputText(companyForm("name"), '_class -> "form", '_label -> "Name", 
	'_showConstraints -> false, 'size -> 50)

	@select(
		companyForm("primary_contact_id"),
		Contact.options,
		'_label -> "Primary Contact", '_default -> "-- Choose a primary contact --",
		'_showConstraints -> false
	)


	<input type="submit" value="Create">

	}

}
